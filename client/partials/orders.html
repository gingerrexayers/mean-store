<h1>orders</h1>
<h2>add a new order</h2>
<form ng-submit='create()'>
  <select ng-model='form.customer' ng-options='customer._id as customer.name for customer in customers' ng-init='customers[0]'>
    <option value='' hidden>Customer</option>
  </select>
  <!-- <select ng-model='form.product' ng-options='product._id as product.name for product in products' ng-init='products[0]'>
    <option value='' hidden>Product</option>
  </select> -->
  <select ng-model='form.product'>
    <option ng-selected='{{product.quantity != 0}}' ng-repeat='product in products' value='{{product._id}}'>{{product.name}}</option>
  </select>
  <input ng-model='form.quantity' type='number' min='1' value='1' max='{{localQuantity || 0}}'/>
  <input type='submit' />
</form>

<div id='orderList'>
  <table>
    <tr>
      <th>Customer Name</th>
      <th>Product</th>
      <th>Quantity</th>
      <th>Date</th>
    </tr>
    <tr ng-repeat='order in orders'>
      <td>{{order._customer.name}}</td>
      <td>{{order._product.name}}</td>
      <td>{{order.quantity}}</td>
      <td>{{order.created_at}}</td>
    </tr>
  </table>
</div>
